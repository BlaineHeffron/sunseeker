---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE, APP_STORE_URL, PLAY_STORE_URL } from '../consts';

const features = [
  {
    icon: 'üìê',
    title: 'Angle Calculator',
    description: 'Enter your location, get your tilt angle. The math accounts for latitude and time of year.',
  },
  {
    icon: 'üìç',
    title: 'Uses Your Location',
    description: 'GPS tells us where you are. We calculate the angle from there. No lookup tables needed.',
  },
  {
    icon: 'üìÖ',
    title: 'Seasonal Reminders',
    description: 'A notification at each equinox and solstice. Adjusting quarterly can add 10-15% to your annual output.',
  },
  {
    icon: '‚ö°',
    title: 'Bifacial Panel Mode',
    description: 'Bifacial panels need different setup‚Äîground reflectivity matters, elevation matters. We have a mode for that.',
  },
  {
    icon: 'üì∑',
    title: 'Camera Positioning',
    description: 'Point your phone at your panels. The screen shows which way to tilt.',
  },
  {
    icon: 'üìä',
    title: 'Tracking Advice',
    description: 'Fixed mount? Single-axis? Dual-axis? We tell you what makes sense for your latitude.',
  },
];

const competitors = [
  { feature: 'Mobile app with camera positioning', sunseeker: true, others: false },
  { feature: 'Bifacial panel mode', sunseeker: true, others: false },
  { feature: 'Ground surface recommendations', sunseeker: true, others: false },
  { feature: 'Seasonal adjustment reminders', sunseeker: true, others: false },
  { feature: 'Works offline', sunseeker: true, others: false },
];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "SunSeeker",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "iOS, Android",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": SITE_DESCRIPTION
    })} />
  </head>
  <body>
    <Header />
    <main>
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <h1>Figure out the right angle for your solar panels</h1>
          <p class="hero-subtitle">
            Free app that calculates your solar panel angle based on location and season.
            Point your phone at your panels, see how to adjust them.
            Works for standard and bifacial panels.
          </p>
          <div class="hero-buttons">
            <a href={APP_STORE_URL} class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
              </svg>
              App Store
            </a>
            <a href={PLAY_STORE_URL} class="btn btn-secondary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/>
              </svg>
              Google Play
            </a>
          </div>
        </div>
        <div class="hero-visual">
          <div class="sun-animation">
            <div class="sun"></div>
            <div class="panel"></div>
            <div class="rays">
              <span></span><span></span><span></span>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features section" id="features">
        <h2>What the app does</h2>
        <p class="section-subtitle">
          It calculates angles. It uses your phone's camera and sensors. It reminds you when to adjust.
        </p>
        <div class="features-grid">
          {features.map((feature) => (
            <article class="feature-card card">
              <span class="feature-icon">{feature.icon}</span>
              <h3>{feature.title}</h3>
              <p>{feature.description}</p>
            </article>
          ))}
        </div>
      </section>

      <!-- How It Works Section -->
      <section class="how-it-works section section-alt" id="how-it-works">
        <div class="container">
          <h2>How SunSeeker Works</h2>
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <h3>Open the App</h3>
              <p>SunSeeker automatically detects your location and the current sun position.</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>Point Your Camera</h3>
              <p>Use AR view to see the optimal angle overlay on your actual panels.</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>Adjust & Save</h3>
              <p>Tilt your panels to match the guide and save your configuration.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Bifacial Panel Section -->
      <section class="bifacial section" id="bifacial">
        <div class="bifacial-content">
          <div class="bifacial-text">
            <h2>Bifacial panels are different</h2>
            <p>
              Bifacial panels capture light on both sides. The back side picks up whatever bounces off the ground beneath them.
              This means the ground surface matters. The height off the ground matters. Most calculators ignore this.
            </p>
            <p>SunSeeker has a bifacial mode that accounts for:</p>
            <ul class="bifacial-features">
              <li>Ground reflectivity ‚Äî white gravel reflects more than grass, which reflects more than asphalt</li>
              <li>Panel height ‚Äî too low and the back can't see much reflected light</li>
              <li>Vertical mounting ‚Äî in some locations, vertical east-west panels work better than tilted ones</li>
            </ul>
            <a href="/sunseeker/blog/bifacial-solar-panel-guide" class="btn btn-secondary">Read the bifacial guide</a>
          </div>
        </div>
      </section>

      <!-- Comparison Section -->
      <section class="comparison section section-alt" id="compare">
        <h2>How this compares to web calculators</h2>
        <p class="section-subtitle">
          Most angle calculators are websites that do basic math. Here's what they typically don't do.
        </p>
        <div class="comparison-table-wrapper">
          <table class="comparison-table">
            <thead>
              <tr>
                <th>Feature</th>
                <th class="highlight">SunSeeker</th>
                <th>Web Calculators</th>
              </tr>
            </thead>
            <tbody>
              {competitors.map((row) => (
                <tr>
                  <td>{row.feature}</td>
                  <td class="highlight">{row.sunseeker ? '‚úì' : '‚úó'}</td>
                  <td>{row.others ? '‚úì' : '‚úó'}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="cta section">
        <h2>Get your panel angle right</h2>
        <p>Download free. Takes 30 seconds to calculate your optimal tilt.</p>
        <div class="cta-buttons">
          <a href={APP_STORE_URL} class="btn btn-primary">Download for iOS</a>
          <a href={PLAY_STORE_URL} class="btn btn-primary">Download for Android</a>
        </div>
      </section>

      <!-- Blog Preview -->
      <section class="blog-preview section section-alt">
        <h2>Solar Energy Tips & Guides</h2>
        <p class="section-subtitle">Learn how to get the most from your solar panels.</p>
        <a href="/sunseeker/blog" class="btn btn-secondary">Read Our Blog</a>
      </section>
    </main>
    <Footer />
  </body>
</html>

<style>
  /* Hero Section */
  .hero {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: center;
    padding: 4rem 0;
    min-height: 70vh;
  }

  .hero-content h1 {
    font-size: 3rem;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--text-dark), var(--grass-green));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: var(--text-muted);
    margin-bottom: 2rem;
    max-width: 500px;
  }

  .hero-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  /* Sun Animation */
  .hero-visual {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  .sun-animation {
    position: relative;
    width: 300px;
    height: 300px;
    overflow: hidden;
  }

  .sun {
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--sunshine-yellow), var(--soft-gold));
    border-radius: 50%;
    box-shadow: 0 0 60px rgba(249, 168, 37, 0.5);
    animation: pulse 3s ease-in-out infinite;
  }

  .panel {
    position: absolute;
    bottom: 15%;
    left: 50%;
    transform: translateX(-50%) perspective(200px) rotateX(30deg);
    width: 120px;
    height: 80px;
    background: linear-gradient(135deg, #1a237e, #3949ab);
    border-radius: 4px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .panel::before {
    content: '';
    position: absolute;
    inset: 4px;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 18px,
      rgba(255, 255, 255, 0.1) 18px,
      rgba(255, 255, 255, 0.1) 20px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 14px,
      rgba(255, 255, 255, 0.1) 14px,
      rgba(255, 255, 255, 0.1) 16px
    );
  }

  .rays span {
    position: absolute;
    top: 45%;
    left: 50%;
    width: 3px;
    height: 60px;
    background: linear-gradient(to bottom, var(--soft-gold), transparent);
    transform-origin: top center;
    opacity: 0.6;
    animation: rayPulse 2s ease-in-out infinite;
  }

  .rays span:nth-child(1) { transform: translateX(-50%) rotate(-20deg); animation-delay: 0s; }
  .rays span:nth-child(2) { transform: translateX(-50%) rotate(0deg); animation-delay: 0.3s; }
  .rays span:nth-child(3) { transform: translateX(-50%) rotate(20deg); animation-delay: 0.6s; }

  @keyframes pulse {
    0%, 100% { transform: translateX(-50%) scale(1); }
    50% { transform: translateX(-50%) scale(1.05); }
  }

  @keyframes rayPulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.8; }
  }

  /* Features Section */
  .features {
    text-align: center;
  }

  .section-subtitle {
    color: var(--text-muted);
    max-width: 600px;
    margin: 0 auto 3rem;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .feature-card {
    text-align: left;
  }

  .feature-icon {
    font-size: 2.5rem;
    display: block;
    margin-bottom: 1rem;
  }

  .feature-card h3 {
    margin-bottom: 0.5rem;
  }

  .feature-card p {
    color: var(--text-muted);
    margin: 0;
  }

  /* How It Works */
  .how-it-works {
    text-align: center;
  }

  .steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .step {
    padding: 2rem;
  }

  .step-number {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--grass-green), var(--fresh-green));
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 auto 1.5rem;
  }

  .step h3 {
    margin-bottom: 0.75rem;
  }

  .step p {
    color: var(--text-muted);
    margin: 0;
  }

  /* CTA Section */
  .cta {
    text-align: center;
    background: linear-gradient(135deg, var(--light-gold) 0%, var(--soft-sage) 100%);
    border-radius: 24px;
    padding: 4rem 2rem;
    margin: 2rem 0;
  }

  .cta h2 {
    margin-bottom: 1rem;
  }

  .cta p {
    color: var(--text-muted);
    margin-bottom: 2rem;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Blog Preview */
  .blog-preview {
    text-align: center;
  }

  /* Bifacial Section */
  .bifacial {
    background: linear-gradient(135deg, var(--soft-sage) 0%, var(--light-gold) 100%);
    border-radius: 24px;
    padding: 4rem 2rem;
    margin: 2rem 0;
  }

  .bifacial-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .badge {
    display: inline-block;
    background: var(--grass-green);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .bifacial-text h2 {
    margin-bottom: 1rem;
  }

  .bifacial-text p {
    color: var(--text-muted);
    margin-bottom: 1rem;
  }

  .bifacial-features {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0;
  }

  .bifacial-features li {
    padding: 0.75rem 0;
    padding-left: 1.5rem;
    position: relative;
    color: var(--text-dark);
  }

  .bifacial-features li::before {
    content: '‚ö°';
    position: absolute;
    left: 0;
  }

  /* Comparison Section */
  .comparison {
    text-align: center;
  }

  .comparison-table-wrapper {
    overflow-x: auto;
    margin-top: 2rem;
  }

  .comparison-table {
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
    border-collapse: collapse;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .comparison-table th,
  .comparison-table td {
    padding: 1rem 1.5rem;
    text-align: left;
    border-bottom: 1px solid var(--warm-gray);
  }

  .comparison-table th {
    background: var(--text-dark);
    color: white;
    font-weight: 600;
  }

  .comparison-table th.highlight {
    background: var(--grass-green);
  }

  .comparison-table td.highlight {
    background: rgba(124, 179, 66, 0.1);
    color: var(--grass-green);
    font-weight: 600;
    font-size: 1.25rem;
  }

  .comparison-table tbody tr:last-child td {
    border-bottom: none;
  }

  .comparison-table tbody td:not(.highlight) {
    color: var(--text-muted);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero {
      grid-template-columns: 1fr;
      text-align: center;
      padding: 2rem 0;
      min-height: auto;
    }

    .hero-content h1 {
      font-size: 2rem;
    }

    .hero-subtitle {
      margin: 0 auto 2rem;
    }

    .hero-buttons {
      justify-content: center;
    }

    .hero-visual {
      order: -1;
    }

    .sun-animation {
      width: 200px;
      height: 200px;
    }

    .sun {
      width: 70px;
      height: 70px;
    }

    .panel {
      width: 90px;
      height: 60px;
    }

    .cta {
      padding: 3rem 1.5rem;
    }
  }
</style>
